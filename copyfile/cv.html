<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Smart CV Generator – AzzamHub" />
    <meta name="author" content="Azzam Saif" />
    <title>AzzamCV – Smart Resume Builder</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      /* ====== Global Styles ====== */
      :root {
        --primary-color: #00ff99;
        --secondary-color: #0a192f;
        --accent-color: #64ffda;
        --text-color: #e6f1ff;
        --light-bg: #112240;
        --dark-bg: #0a192f;
        --card-bg: rgba(17, 34, 64, 0.8);
        --border-color: rgba(100, 255, 218, 0.2);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background: linear-gradient(135deg, var(--dark-bg) 0%, #0d1b2a 100%);
        color: var(--text-color);
        line-height: 1.6;
        min-height: 100vh;
        padding-bottom: 60px;
      }

      .container {
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 15px;
      }

      h1,
      h2,
      h3,
      h4 {
        font-weight: 600;
        margin-bottom: 15px;
        color: var(--accent-color);
      }

      h2 {
        font-size: 1.8rem;
        border-bottom: 1px solid var(--border-color);
        padding-bottom: 10px;
        margin-bottom: 20px;
      }

      .btn-primary {
        background: var(--primary-color);
        color: var(--secondary-color);
        border: none;
        padding: 12px 25px;
        border-radius: 30px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        text-decoration: none;
      }

      .btn-primary:hover {
        background: #00e68a;
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 255, 153, 0.3);
      }

      .btn-secondary {
        background: transparent;
        color: var(--primary-color);
        border: 1px solid var(--primary-color);
        padding: 10px 20px;
        border-radius: 30px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .btn-secondary:hover {
        background: rgba(0, 255, 153, 0.1);
        transform: translateY(-2px);
      }

      section {
        background: var(--card-bg);
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 25px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        border: 1px solid var(--border-color);
        backdrop-filter: blur(10px);
      }

      /* ====== Header Styles ====== */
      .main-header {
        background: rgba(10, 25, 47, 0.9);
        padding: 15px 0;
        position: sticky;
        top: 0;
        z-index: 1000;
        border-bottom: 1px solid var(--border-color);
        backdrop-filter: blur(10px);
      }

      .header-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        font-family: "Orbitron", sans-serif;
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--text-color);
      }

      .logo span {
        color: var(--primary-color);
      }

      .nav-menu {
        display: flex;
        gap: 25px;
      }

      .nav-menu a {
        color: var(--text-color);
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
        padding: 8px 0;
        position: relative;
      }

      .nav-menu a:hover {
        color: var(--primary-color);
      }

      .nav-menu a::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 0;
        height: 2px;
        background: var(--primary-color);
        transition: width 0.3s ease;
      }

      .nav-menu a:hover::after {
        width: 100%;
      }

      /* ====== Form Styles ====== */
      .cv-form {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 20px;
      }

      .form-row {
        display: flex;
        gap: 15px;
        margin-bottom: 15px;
      }

      .form-row > * {
        flex: 1;
      }

      input,
      textarea,
      select {
        width: 100%;
        padding: 14px;
        border-radius: 8px;
        border: 1px solid rgba(100, 255, 218, 0.2);
        background: rgba(17, 34, 64, 0.5);
        color: var(--text-color);
        font-size: 1rem;
        transition: all 0.3s ease;
      }

      input:focus,
      textarea:focus,
      select:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(0, 255, 153, 0.2);
      }

      textarea {
        min-height: 100px;
        resize: vertical;
      }

      .button-wrapper {
        grid-column: 1 / -1;
        text-align: center;
        margin-top: 20px;
      }

      /* ====== AI Tools Section ====== */
      .ai-tools {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .ai-tool-card {
        background: rgba(17, 34, 64, 0.6);
        border-radius: 12px;
        padding: 20px;
        border: 1px solid var(--border-color);
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .ai-tool-card:hover {
        transform: translateY(-5px);
        background: rgba(17, 34, 64, 0.8);
        border-color: var(--primary-color);
      }

      .ai-tool-card i {
        font-size: 2.5rem;
        color: var(--primary-color);
        margin-bottom: 15px;
      }

      .ai-tool-card h3 {
        font-size: 1.3rem;
        margin-bottom: 10px;
      }

      .ai-tool-card p {
        color: #a8b2d1;
        font-size: 0.95rem;
        line-height: 1.5;
      }

      /* ====== Preview Styles ====== */
      .preview-box {
        background: var(--card-bg);
        border-radius: 15px;
        padding: 30px;
        margin-top: 30px;
        border: 1px solid var(--border-color);
        display: none;
      }

      .preview-box.show {
        display: block;
        animation: fadeIn 0.5s ease;
      }

      .cv-preview-inner {
        background: white;
        color: #333;
        padding: 40px;
        border-radius: 10px;
        box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
        max-width: 800px;
        margin: 0 auto;
      }

      .cv-preview-inner h1 {
        color: var(--secondary-color);
        font-size: 2.5rem;
        border-bottom: 2px solid var(--primary-color);
        padding-bottom: 15px;
        margin-bottom: 20px;
      }

      .cv-preview-inner h2 {
        color: var(--secondary-color);
        border-bottom: 1px solid #ddd;
      }

      .cv-preview-inner p {
        margin-bottom: 10px;
      }

      /* ====== Analysis Styles ====== */
      .analysis-box {
        background: var(--card-bg);
        border-radius: 15px;
        padding: 30px;
        margin-top: 30px;
        border: 1px solid var(--border-color);
        display: none;
      }

      .analysis-box.show {
        display: block;
        animation: fadeIn 0.5s ease;
      }

      .analysis-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .analysis-card {
        background: rgba(10, 25, 47, 0.6);
        border-radius: 12px;
        padding: 20px;
        text-align: center;
        border: 1px solid var(--border-color);
      }

      .score-circle {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background: conic-gradient(
          var(--primary-color) 0% 75%,
          #112240 75% 100%
        );
        margin: 15px auto;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        font-weight: 700;
        color: var(--text-color);
        position: relative;
      }

      .score-circle::before {
        content: "";
        position: absolute;
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background: var(--light-bg);
      }

      .score-circle span {
        position: relative;
        z-index: 1;
      }

      .strength-meter {
        height: 8px;
        background: var(--light-bg);
        border-radius: 4px;
        margin: 10px 0;
        overflow: hidden;
      }

      .strength-level {
        height: 100%;
        background: var(--primary-color);
        border-radius: 4px;
      }

      .jobs-list {
        display: grid;
        gap: 15px;
        margin-top: 15px;
      }

      .job-card {
        background: rgba(17, 34, 64, 0.6);
        border-radius: 10px;
        padding: 15px;
        border: 1px solid var(--border-color);
        transition: all 0.3s ease;
      }

      .job-card:hover {
        transform: translateX(5px);
        border-color: var(--primary-color);
      }

      .job-card h4 {
        color: var(--primary-color);
        margin-bottom: 5px;
      }

      /* ====== Footer Styles ====== */
      .footer {
        background: var(--dark-bg);
        padding: 30px 0;
        margin-top: 50px;
        border-top: 1px solid var(--border-color);
      }

      .footer-content {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        gap: 30px;
      }

      .footer-links {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
      }

      .footer-links a {
        color: var(--text-color);
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .footer-links a:hover {
        color: var(--primary-color);
      }

      .footer-lang {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .footer-lang select {
        background: var(--light-bg);
        color: var(--text-color);
        border: 1px solid var(--border-color);
        padding: 8px 15px;
        border-radius: 8px;
        width: auto;
      }

      .footer-copy {
        width: 100%;
        text-align: center;
        margin-top: 20px;
        color: #a8b2d1;
        font-size: 0.9rem;
      }

      /* ====== Animations ====== */
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* ====== Responsive Styles ====== */
      @media (max-width: 900px) {
        .header-container {
          flex-direction: column;
          gap: 15px;
        }

        .nav-menu {
          flex-wrap: wrap;
          justify-content: center;
        }

        .cv-form {
          grid-template-columns: 1fr;
        }

        .form-row {
          flex-direction: column;
          gap: 10px;
        }
      }

      @media (max-width: 600px) {
        .preview-box,
        .analysis-box {
          padding: 20px;
        }

        .cv-preview-inner {
          padding: 20px;
        }
      }

      /* ====== New AI Features ====== */
      .ai-actions {
        display: flex;
        gap: 10px;
        margin-top: 10px;
        flex-wrap: wrap;
      }

      .ai-suggestion {
        background: rgba(0, 255, 153, 0.1);
        border-left: 3px solid var(--primary-color);
        padding: 10px 15px;
        margin: 15px 0;
        border-radius: 0 8px 8px 0;
      }

      .ai-suggestion p {
        margin-bottom: 8px;
      }

      .ai-suggestion button {
        background: transparent;
        border: none;
        color: var(--primary-color);
        cursor: pointer;
        font-size: 0.9rem;
        padding: 0;
      }

      .ai-suggestion button:hover {
        text-decoration: underline;
      }

      .job-match-percent {
        display: inline-block;
        background: var(--primary-color);
        color: var(--secondary-color);
        padding: 3px 8px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        margin-left: 10px;
      }

      .pdf-analysis-section {
        background: #f8f9fa;
        padding: 25px;
        border-radius: 10px;
        margin-top: 30px;
        border: 1px solid #e9ecef;
        color: #212529;
      }

      .skill-meter {
        height: 10px;
        background: #e9ecef;
        border-radius: 5px;
        margin: 10px 0 15px;
        overflow: hidden;
      }

      .skill-level {
        height: 100%;
        background: var(--primary-color);
        border-radius: 5px;
      }

      .analysis-row {
        display: flex;
        gap: 20px;
        margin: 20px 0;
      }

      .analysis-col {
        flex: 1;
      }

      .job-matches {
        margin-top: 25px;
      }

      .job-match {
        background: #e9ecef;
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 10px;
      }
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 999;
      }

      .hidden {
        display: none;
      }

      .modal-content {
        background: #fff;
        padding: 20px;
        border-radius: 10px;
      }

      .modal-content h3 {
        font-size: 1.5rem;
        margin-bottom: 15px;
        color: var(--primary-color);
      }

      .modal-content textarea {
        width: 100%;
        padding: 15px;
        border-radius: 8px;
        border: 1px solid var(--border-color);
        background: var(--light-bg);
        color: var(--text-color);
        font-size: 1rem;
        resize: vertical;
        margin-bottom: 20px;
      }

      #enhanced-output {
        width: 100%;
        padding: 15px;
        border-radius: 8px;
        border: 1px dashed var(--border-color);
        background: var(--light-bg);
        color: var(--text-color);
        font-size: 1rem;
        resize: vertical;
        margin-top: 10px;
        margin-bottom: 10px;
      }

      .modal-content button {
        padding: 12px 22px;
        font-size: 1rem;
        font-weight: bold;
        margin-right: 10px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: none;
        min-width: 130px;
      }

      .modal-content button:first-child {
        background-color: #2ae66f;
        color: #0f172a;
      }

      .modal-content button:first-child:hover {
        background-color: #24c75c;
        transform: scale(1.03);
      }

      .modal-content button:last-child {
        background-color: #334155;
        color: #f1f5f9;
      }

      .modal-content button:last-child:hover {
        background-color: #1e293b;
        transform: scale(1.03);
      }
    </style>
  </head>
  <body>
    <!-- ====== Header ====== -->
    <header class="main-header">
      <div class="container header-container">
        <div class="logo">Azzam<span style="color: #00ff99">Hub</span></div>
        <nav class="nav-menu">
          <a href="#planner">Planner</a>
          <a href="#auto">Automation</a>
          <a href="#cv">Smart CV</a>
          <a href="#lingo">Lingo</a>
          <a href="#invest">Invest</a>
        </nav>
        <div class="cta">
          <a href="#" class="btn-primary">Get Started</a>
        </div>
      </div>
    </header>

    <!-- ====== Main Content ====== -->
    <main class="container">
      <h1
        style="text-align: center; margin: 30px 0; color: var(--primary-color)"
      >
        <i class="fas fa-file-alt"></i> AzzamCV - Smart Resume Builder
      </h1>

      <!-- ====== AI Tools Section ====== -->
      <section>
        <h2><i class="fas fa-robot"></i> AI-Powered Tools</h2>
        <div class="ai-tools">
          <div class="ai-tool-card">
            <i class="fas fa-magic"></i>
            <h3>Content Enhancer</h3>
            <p>
              Automatically improve your resume content with professional
              language and industry-specific keywords.
            </p>
          </div>
          <!-- Enhance Modal -->
          <div id="enhancer-modal" class="modal hidden">
            <div class="modal-content">
              <h3>Enhance Your Summary</h3>

              <textarea
                id="enhance-input"
                rows="6"
                placeholder="Paste your summary here..."
              ></textarea>

              <button onclick="runEnhancer()">Enhance Now</button>
              <button onclick="closeEnhancer()">Close</button>

              <!-- ✅ TextArea لعرض النص المحسّن -->
              <textarea
                id="enhanced-output"
                rows="6"
                readonly
                placeholder="Enhanced summary will appear here..."
              ></textarea>
            </div>
          </div>

          <div class="ai-tool-card" id="ats-optimize">
            <i class="fas fa-search"></i>
            <h3>ATS Optimization</h3>
            <p>
              Analyze your resume against a job description and get match score
              + suggestions.
            </p>
          </div>

          <!-- Modal: ATS Optimization -->
          <div id="atsModal" class="modal hidden">
            <div class="modal-content" style="max-width: 500px; padding: 20px">
              <h3>ATS Resume Optimization</h3>
              <form id="atsForm" enctype="multipart/form-data">
                <label style="display: block; margin-top: 10px"
                  >Upload Resume (PDF):</label
                >
                <input
                  type="file"
                  name="resume"
                  accept=".pdf"
                  required
                  style="width: 100%"
                />

                <label style="display: block; margin-top: 10px"
                  >Paste Job Description:</label
                >
                <textarea
                  name="job_desc"
                  rows="6"
                  required
                  style="width: 100%"
                ></textarea>

                <div style="margin-top: 15px">
                  <button type="submit">Analyze</button>
                  <button type="button" id="closeModal">Close</button>
                </div>
              </form>

              <div
                id="atsResult"
                style="margin-top: 20px; background: #f4f4f4; padding: 10px"
              ></div>
            </div>
          </div>

          <!-- Modal: Job Matching (hidden by default) -->
          <!-- Job Matching AI Tool Card (clickable) -->
          <div class="ai-tool-card" id="job-matching-section">
            <i class="fas fa-briefcase"></i>
            <h3>Job Matching</h3>
            <p>
              Discover the best job opportunities that match your skills and
              experience profile.
            </p>
          </div>

          <!-- Modal: Job Matching (hidden by default) -->
          <div id="jobMatchModal" class="modal hidden">
            <div class="modal-content" style="max-width: 500px; padding: 20px">
              <h3>Job Matching</h3>
              <form id="jobMatchForm" enctype="multipart/form-data">
                <label style="display: block; margin-top: 10px"
                  >Upload your CV (PDF):</label
                >
                <input
                  type="file"
                  name="resume"
                  accept=".pdf"
                  required
                  style="width: 100%"
                />
                <div style="margin-top: 15px">
                  <button type="submit">Find Matching Jobs</button>
                  <button type="button" id="closeJobModal">Close</button>
                </div>
              </form>
              <div
                id="jobResults"
                style="margin-top: 20px; background: #f4f4f4; padding: 10px"
              ></div>
            </div>
          </div>
        </div>
      </section>

      <!-- ====== CV Builder Form ====== -->
      <form id="cv-form" class="cv-form">
        <!-- Personal Information -->
        <section>
          <h2><i class="fas fa-user"></i> Personal Information</h2>
          <div class="form-row">
            <div>
              <input
                type="text"
                name="fullname"
                placeholder="Full Name"
                required
              />
            </div>
            <div>
              <input
                type="email"
                name="email"
                placeholder="Email Address"
                required
              />
            </div>
          </div>
          <div class="form-row">
            <div>
              <input type="text" name="phone" placeholder="Phone Number" />
            </div>
            <div>
              <input type="text" name="address" placeholder="Address" />
            </div>
          </div>
        </section>

        <!-- Professional Summary -->
        <section>
          <h2><i class="fas fa-file-signature"></i> Professional Summary</h2>
          <textarea
            name="summary"
            placeholder="Write a short summary about yourself..."
            rows="4"
          ></textarea>
          <div class="ai-actions">
            <button
              type="button"
              class="btn-secondary"
              onclick="generateSummary()"
            >
              <i class="fas fa-wand-magic-sparkles"></i> AI Generate
            </button>
            <button
              type="button"
              class="btn-secondary"
              onclick="optimizeSummary()"
            >
              <i class="fas fa-stars"></i> Optimize
            </button>
          </div>
          <div class="ai-suggestion">
            <p>
              <strong>AI Suggestion:</strong> Focus on quantifiable achievements
              and industry keywords to make your summary stand out.
            </p>
            <button onclick="applySuggestion('summary')">
              Apply Suggestion
            </button>
          </div>
        </section>

        <!-- Work Experience -->
        <section>
          <h2><i class="fas fa-briefcase"></i> Work Experience</h2>
          <div class="experience-entry">
            <div class="form-row">
              <div>
                <input
                  type="text"
                  name="job_title"
                  placeholder="Job Title"
                  required
                />
              </div>
              <div>
                <input
                  type="text"
                  name="company"
                  placeholder="Company Name"
                  required
                />
              </div>
            </div>
            <div class="form-row">
              <div>
                <input type="text" name="duration" placeholder="Duration" />
              </div>
            </div>
            <textarea
              name="job_description"
              placeholder="Describe your responsibilities and achievements..."
              rows="3"
            ></textarea>
            <div class="ai-actions">
              <button
                type="button"
                class="btn-secondary"
                onclick="enhanceJobDescription()"
              >
                <i class="fas fa-chart-line"></i> Enhance with Metrics
              </button>
            </div>
            <div class="ai-suggestion">
              <p>
                <strong>AI Tip:</strong> Use action verbs and quantify
                achievements (e.g., "Increased sales by 25%").
              </p>
              <button onclick="applyJobSuggestion()">Show Example</button>
            </div>
          </div>
        </section>

        <!-- Education -->
        <section>
          <h2><i class="fas fa-graduation-cap"></i> Education</h2>
          <div class="education-entry">
            <div class="form-row">
              <div>
                <input type="text" name="degree" placeholder="Degree" />
              </div>
              <div>
                <input
                  type="text"
                  name="institution"
                  placeholder="Institution Name"
                />
              </div>
            </div>
            <div class="form-row">
              <div>
                <input type="text" name="edu_duration" placeholder="Duration" />
              </div>
            </div>
          </div>
        </section>

        <!-- Skills & Languages -->
        <div class="form-row">
          <section style="flex: 1">
            <h2><i class="fas fa-tools"></i> Skills</h2>
            <input
              type="text"
              name="skills"
              placeholder="e.g. Python, JavaScript, Git"
              required
            />
            <div class="ai-actions">
              <button
                type="button"
                class="btn-secondary"
                onclick="analyzeSkills()"
              >
                <i class="fas fa-search"></i> Skill Analysis
              </button>
            </div>
          </section>

          <section style="flex: 1">
            <h2><i class="fas fa-language"></i> Languages</h2>
            <input
              type="text"
              name="languages"
              placeholder="e.g. English – Fluent, German – Intermediate"
              required
            />
          </section>
        </div>

        <!-- Links -->
        <section>
          <h2><i class="fas fa-link"></i> Links</h2>
          <div class="form-row">
            <div>
              <input type="url" name="github" placeholder="GitHub URL" />
            </div>
            <div>
              <input type="url" name="linkedin" placeholder="LinkedIn URL" />
            </div>
          </div>
        </section>

        <!-- Generate Button -->
        <div class="button-wrapper">
          <button type="button" class="btn-primary" onclick="generatePreview()">
            <i class="fas fa-magic"></i> Generate Smart CV
          </button>
        </div>
      </form>

      <!-- CV Preview -->
      <section id="cv-preview" class="preview-box">
        <h2><i class="fas fa-eye"></i> CV Preview</h2>
        <div id="preview-content" class="cv-preview-inner">
          <!-- Preview content will be generated here -->
        </div>
        <div class="button-wrapper" style="margin-top: 30px">
          <button id="downloadBtn" class="btn-primary">
            <i class="fas fa-download"></i> Download as PDF
          </button>
          <button
            class="btn-secondary"
            onclick="showAnalysis()"
            style="margin-left: 15px"
          >
            <i class="fas fa-chart-bar"></i> Show Analysis
          </button>
        </div>
      </section>

      <!-- Smart Analysis Section -->
      <section id="cv-analysis" class="analysis-box">
        <h2><i class="fas fa-brain"></i> Smart CV Analysis</h2>

        <div class="analysis-grid">
          <!-- CV Score -->
          <div class="analysis-card">
            <h3>CV Score</h3>
            <div class="score-circle"><span id="cv-score">75%</span></div>
            <p id="score-feedback">Good start! Needs more technical details.</p>
          </div>

          <!-- Skills Strength -->
          <div class="analysis-card">
            <h3>Skills Strength</h3>
            <div class="strength-meter">
              <div class="strength-level" style="width: 65%"></div>
            </div>
            <p>Your technical skills match 65% of target jobs</p>
            <button class="btn-secondary" onclick="showSkillRecommendations()">
              <i class="fas fa-lightbulb"></i> Improvement Tips
            </button>
          </div>

          <!-- ATS Optimization -->
          <div class="analysis-card">
            <h3>ATS Optimization</h3>
            <div class="strength-meter">
              <div class="strength-level" style="width: 80%"></div>
            </div>
            <p>Your CV is 80% optimized for Applicant Tracking Systems</p>
            <button class="btn-secondary" onclick="optimizeForATS()">
              <i class="fas fa-robot"></i> Optimize Now
            </button>
          </div>
        </div>

        <!-- Job Matching -->
        <div class="job-matching">
          <h3><i class="fas fa-briefcase"></i> Best Job Matches</h3>
          <div class="jobs-list" id="matched-jobs">
            <div class="job-card">
              <h4>
                Senior Frontend Developer
                <span class="job-match-percent">85% match</span>
              </h4>
              <p>Berlin, Germany | €70,000 - €85,000</p>
              <p>Skills: React, JavaScript, TypeScript</p>
            </div>
            <div class="job-card">
              <h4>
                Full Stack Engineer
                <span class="job-match-percent">78% match</span>
              </h4>
              <p>Remote | $90,000 - $120,000</p>
              <p>Skills: Node.js, React, MongoDB</p>
            </div>
            <div class="job-card">
              <h4>
                UI/UX Developer <span class="job-match-percent">72% match</span>
              </h4>
              <p>Amsterdam, Netherlands | €65,000 - €80,000</p>
              <p>Skills: Figma, CSS, JavaScript</p>
            </div>
          </div>
          <div class="button-wrapper" style="margin-top: 20px">
            <button class="btn-primary" onclick="generateCoverLetter()">
              <i class="fas fa-file-contract"></i> Generate Cover Letter
            </button>
          </div>
        </div>
      </section>
    </main>

    <!-- ====== Footer ====== -->
    <footer class="footer">
      <div class="container footer-content">
        <div class="footer-links">
          <a href="#">Home</a>
          <a href="#">About</a>
          <a href="#">Privacy</a>
          <a href="#">Contact</a>
        </div>
        <div class="footer-lang">
          <label for="langSelect">Language:</label>
          <select id="langSelect">
            <option value="en">EN</option>
            <option value="de">DE</option>
            <option value="ar">AR</option>
            <option value="fr">FR</option>
          </select>
        </div>
        <div class="footer-copy">
          <p>&copy; 2025 AzzamHub – All rights reserved | Smart CV Builder</p>
        </div>
      </div>
    </footer>

    <!-- ====== JavaScript ====== -->
    <script>
      // DOM Elements
      const cvForm = document.getElementById("cv-form");
      const previewBox = document.getElementById("cv-preview");
      const analysisBox = document.getElementById("cv-analysis");
      const previewContent = document.getElementById("preview-content");
      const cvScoreElement = document.getElementById("cv-score");
      const downloadBtn = document.getElementById("downloadBtn");

      // Sample data for job matching
      const jobTemplates = [
        {
          title: "Senior Frontend Developer",
          location: "Berlin, Germany",
          salary: "€70,000 - €85,000",
          skills: ["React", "JavaScript", "TypeScript", "CSS", "HTML"],
          match: 85,
        },
        {
          title: "Full Stack Engineer",
          location: "Remote",
          salary: "$90,000 - $120,000",
          skills: ["Node.js", "React", "MongoDB", "Express", "REST APIs"],
          match: 78,
        },
        {
          title: "UI/UX Developer",
          location: "Amsterdam, Netherlands",
          salary: "€65,000 - €80,000",
          skills: [
            "Figma",
            "CSS",
            "JavaScript",
            "UI Design",
            "Responsive Design",
          ],
          match: 72,
        },
      ];

      // Initialize the page
      document.addEventListener("DOMContentLoaded", function () {
        // Set up event listeners
        downloadBtn.addEventListener("click", downloadPDF);

        // Initialize tooltips
        initTooltips();
      });

      // Generate CV Preview
      function generatePreview() {
        const formData = new FormData(cvForm);

        // Extract form values
        const fullname = formData.get("fullname") || "John Doe";
        const email = formData.get("email") || "john.doe@example.com";
        const phone = formData.get("phone") || "+1 (123) 456-7890";
        const address = formData.get("address") || "New York, NY";
        const summary =
          formData.get("summary") ||
          "Experienced professional with a strong background in...";
        const jobTitle = formData.get("job_title") || "Senior Developer";
        const company = formData.get("company") || "Tech Solutions Inc";
        const duration = formData.get("duration") || "Jan 2020 - Present";
        const jobDescription =
          formData.get("job_description") ||
          "Responsible for developing and maintaining web applications...";
        const degree = formData.get("degree") || "BSc Computer Science";
        const institution =
          formData.get("institution") || "University of Technology";
        const eduDuration = formData.get("edu_duration") || "2016 - 2020";
        const skills =
          formData.get("skills") || "JavaScript, React, Node.js, CSS, HTML";
        const languages =
          formData.get("languages") ||
          "English (Fluent), German (Intermediate)";
        const github = formData.get("github") || "https://github.com/johndoe";
        const linkedin =
          formData.get("linkedin") || "https://linkedin.com/in/johndoe";

        // Generate preview HTML
        const previewHTML = `
        <div class="cv-preview-inner">
          <div style="text-align: center; margin-bottom: 30px;">
            <h1>${fullname}</h1>
            <p>${jobTitle} | ${email} | ${phone}</p>
            <p>${address}</p>
          </div>
          
          <div style="margin-bottom: 25px;">
            <h2>Professional Summary</h2>
            <p>${summary}</p>
          </div>
          
          <div style="margin-bottom: 25px;">
            <h2>Work Experience</h2>
            <p><strong>${jobTitle}</strong> | ${company} | ${duration}</p>
            <p>${jobDescription}</p>
          </div>
          
          <div class="form-row" style="gap: 30px;">
            <div style="flex: 1;">
              <h2>Education</h2>
              <p><strong>${degree}</strong></p>
              <p>${institution} | ${eduDuration}</p>
            </div>
            
            <div style="flex: 1;">
              <h2>Skills</h2>
              <p>${skills}</p>
            </div>
          </div>
          
          <div style="margin-top: 25px;">
            <h2>Languages</h2>
            <p>${languages}</p>
          </div>
          
          <div style="margin-top: 25px;">
            <h2>Links</h2>
            <p>GitHub: <a href="${github}" target="_blank">${github}</a></p>
            <p>LinkedIn: <a href="${linkedin}" target="_blank">${linkedin}</a></p>
          </div>
        </div>
      `;

        // Update preview content
        previewContent.innerHTML = previewHTML;

        // Show preview section
        previewBox.classList.add("show");
        analysisBox.classList.remove("show");

        // Scroll to preview
        previewBox.scrollIntoView({ behavior: "smooth" });

        // Analyze CV
        analyzeCV();
      }

      // Analyze CV using AI
      function analyzeCV() {
        // Simulate AI analysis
        const formData = new FormData(cvForm);
        const skills = formData.get("skills") || "";
        const summary = formData.get("summary") || "";

        // Calculate CV score (simulated)
        let score = 70;
        if (
          skills.includes("React") ||
          skills.includes("Angular") ||
          skills.includes("Vue")
        )
          score += 10;
        if (summary.length > 100) score += 5;
        if (summary.includes("developed") || summary.includes("managed"))
          score += 5;
        if (score > 95) score = 95;

        // Update score
        cvScoreElement.textContent = `${score}%`;

        // Update feedback
        const feedback = document.getElementById("score-feedback");
        if (score >= 85) {
          feedback.textContent = "Excellent! Your CV is well optimized.";
        } else if (score >= 70) {
          feedback.textContent =
            "Good job! Your CV is competitive but could be improved.";
        } else {
          feedback.textContent =
            "Needs improvement. Use our AI tools to enhance your CV.";
        }

        // Generate job matches
        generateJobMatches();
      }

      // Generate job matches
      function generateJobMatches() {
        const jobsList = document.getElementById("matched-jobs");
        jobsList.innerHTML = "";

        jobTemplates.forEach((job) => {
          const jobElement = document.createElement("div");
          jobElement.className = "job-card";
          jobElement.innerHTML = `
          <h4>${job.title} <span class="job-match-percent">${
            job.match
          }% match</span></h4>
          <p>${job.location} | ${job.salary}</p>
          <p>Skills: ${job.skills.join(", ")}</p>
        `;
          jobsList.appendChild(jobElement);
        });
      }

      // Show analysis section
      function showAnalysis() {
        analysisBox.classList.add("show");
        analysisBox.scrollIntoView({ behavior: "smooth" });
      }

      // دالة توليد الملخص الذكي بناءً على البيانات المدخلة ومخرجات التحليل السابقة
      function generateSummary() {
        const jobTitle = document
          .querySelector('input[name="job_title"]')
          ?.value.trim();
        const duration = document
          .querySelector('input[name="duration"]')
          ?.value.trim();
        const userSkills = document
          .querySelector('input[name="skills"]')
          ?.value.trim();

        const textarea = document.querySelector('textarea[name="summary"]');
        if (!textarea) return;

        if (!jobTitle || !duration || !userSkills) {
          showNotification(
            "Please fill in job title, duration, and skills to generate summary.",
            "error"
          );
          return;
        }

        // نحاول جلب وظيفة مطابقة من تحليل الوظائف السابق (jobTemplates من job matching)
        let bestMatch = null;
        if (typeof jobTemplates !== "undefined" && jobTemplates.length > 0) {
          bestMatch = jobTemplates.reduce((prev, curr) =>
            curr.match > prev.match ? curr : prev
          );
        }

        const matchedSkills = bestMatch
          ? bestMatch.skills.filter((skill) =>
              userSkills.toLowerCase().includes(skill.toLowerCase())
            )
          : userSkills.split(",");

        const skillText =
          matchedSkills.length > 0 ? matchedSkills.join(", ") : userSkills;

        const summaryText = `
    ${jobTitle} with ${duration} of experience specializing in ${skillText}. 
    Demonstrates strong ability to solve problems, collaborate in teams, and contribute to dynamic work environments. 
    Looking to apply expertise in a role aligned with ${
      bestMatch?.title || "industry-standard"
    } requirements.
  `.trim();

        textarea.value = summaryText;
        showNotification("✅ Smart summary generated successfully!", "success");
      }

      // Optimize summary
      function optimizeSummary() {
        const summary = document.querySelector(
          'textarea[name="summary"]'
        ).value;
        if (!summary) {
          showNotification("Please write a summary first", "error");
          return;
        }

        // Simulate optimization
        const optimizedSummary =
          summary
            .replace(/managed/g, "spearheaded")
            .replace(/made/g, "developed")
            .replace(/helped/g, "collaborated on")
            .replace(/(\d+)/g, "$1%") +
          " Excellent communicator with strong problem-solving abilities.";

        document.querySelector('textarea[name="summary"]').value =
          optimizedSummary;
        showNotification(
          "Summary optimized with professional language!",
          "success"
        );
      }

      // Enhance job description with metrics
      function enhanceJobDescription() {
        const description = document.querySelector(
          'textarea[name="job_description"]'
        ).value;
        if (!description) {
          showNotification("Please add a job description first", "error");
          return;
        }

        // Simulate enhancement
        const enhancedDescription =
          description
            .replace(/developed/g, "developed and deployed")
            .replace(/managed/g, "managed a team of 5 developers to")
            .replace(/improved/g, "improved by 25%") +
          " Reduced application loading time by 30% through optimization techniques.";

        document.querySelector('textarea[name="job_description"]').value =
          enhancedDescription;
        showNotification(
          "Job description enhanced with quantifiable metrics!",
          "success"
        );
      }

      // Apply suggestion
      function applySuggestion(field) {
        if (field === "summary") {
          document.querySelector('textarea[name="summary"]').value +=
            " Implemented solutions that increased efficiency by 30% and reduced costs by 15%.";
          showNotification("Suggestion applied to summary!", "success");
        }
      }

      // Show job suggestion example
      function applyJobSuggestion() {
        document.querySelector('textarea[name="job_description"]').value =
          "Developed a React application that improved user engagement by 40%. " +
          "Managed a team of 5 developers to deliver projects 20% ahead of schedule. " +
          "Reduced application loading time by 30% through optimization techniques.";
        showNotification("Example job description applied!", "success");
      }

      // Show skill recommendations
      function showSkillRecommendations() {
        const skills =
          document.querySelector('input[name="skills"]').value || "";

        let recommendations = "";
        if (!skills.includes("TypeScript")) {
          recommendations +=
            "<li>Add <strong>TypeScript</strong> to improve code quality and maintainability</li>";
        }
        if (!skills.includes("AWS") && !skills.includes("Azure")) {
          recommendations +=
            "<li>Consider adding <strong>cloud platform skills</strong> like AWS or Azure</li>";
        }
        if (!skills.includes("Docker")) {
          recommendations +=
            "<li>Include <strong>containerization tools</strong> like Docker for modern DevOps</li>";
        }

        if (recommendations) {
          showNotification("Skill recommendations generated!", "success");
          document.querySelector('input[name="skills"]').value +=
            (skills ? ", " : "") + "TypeScript, Docker, AWS";
        } else {
          showNotification("Your skills are already well-rounded!", "success");
        }
      }

      // Optimize for ATS
      function optimizeForATS() {
        // Simulate ATS optimization
        const summary = document.querySelector('textarea[name="summary"]');
        const jobDesc = document.querySelector(
          'textarea[name="job_description"]'
        );

        if (summary.value) {
          summary.value =
            summary.value
              .replace(/developer/g, "Software Developer")
              .replace(/engineer/g, "Software Engineer") +
            " Proficient in Agile methodologies and CI/CD pipelines.";
        }

        if (jobDesc.value) {
          jobDesc.value =
            jobDesc.value
              .replace(/built/g, "developed and deployed")
              .replace(/made/g, "implemented") +
            " Experience with version control systems like Git.";
        }

        showNotification(
          "CV optimized for Applicant Tracking Systems!",
          "success"
        );
      }

      // Generate cover letter
      function generateCoverLetter() {
        const name =
          document.querySelector('input[name="fullname"]').value || "John Doe";
        const job =
          document.querySelector('input[name="job_title"]').value ||
          "Software Developer";
        const company =
          document.querySelector('input[name="company"]').value ||
          "Tech Innovations Inc";

        const letter = `
        <div class="cv-preview-inner">
          <h2>Cover Letter</h2>
          <p>Dear Hiring Manager,</p>
          
          <p>I am writing to express my interest in the Senior Frontend Developer position at ${company}, 
          as advertised on LinkedIn. With over 5 years of experience in developing responsive web applications 
          and a proven track record of delivering high-quality solutions, I am confident in my ability to contribute 
          significantly to your team.</p>
          
          <p>In my current role as ${job} at [Current Company], I have successfully [mention a key achievement]. 
          My expertise in [mention key skills] aligns perfectly with the requirements for this position. 
          I am particularly drawn to ${company} because of [mention something specific about the company].</p>
          
          <p>I have attached my resume for your review and would welcome the opportunity to discuss how my skills 
          and experiences can benefit ${company}. Thank you for considering my application.</p>
          
          <p>Sincerely,<br>${name}</p>
        </div>
      `;

        previewContent.innerHTML = letter;
        previewBox.classList.add("show");
        previewBox.scrollIntoView({ behavior: "smooth" });
        showNotification("Cover letter generated successfully!", "success");
      }

      // Download as PDF
      function downloadPDF() {
        showNotification("Preparing your PDF download...", "info");

        // Simulate PDF generation delay
        setTimeout(() => {
          showNotification("CV downloaded as PDF successfully!", "success");
        }, 2000);
      }

      // Show notification
      function showNotification(message, type) {
        // Remove existing notification
        const existingNotice = document.querySelector(".notification");
        if (existingNotice) existingNotice.remove();

        // Create notification element
        const notice = document.createElement("div");
        notice.className = `notification ${type}`;
        notice.innerHTML = `<i class="fas fa-${
          type === "error" ? "exclamation-circle" : "check-circle"
        }"></i> ${message}`;

        // Add to body
        document.body.appendChild(notice);

        // Auto remove after 3 seconds
        setTimeout(() => {
          notice.style.opacity = "0";
          setTimeout(() => notice.remove(), 300);
        }, 3000);
      }

      // Initialize tooltips
      function initTooltips() {
        // This would initialize tooltips in a real implementation
      }
      // Open Enhancer Modal
      document
        .querySelector(".ai-tool-card:nth-child(1)")
        .addEventListener("click", () => {
          document.getElementById("enhancer-modal").classList.remove("hidden");
        });

      // Close Modal
      function runEnhancer() {
        const input = document.getElementById("enhance-input").value;
        if (!input.trim()) {
          alert("Please enter your summary first.");
          return;
        }

        fetch("/enhance_summary", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ text: input }),
        })
          .then((res) => res.json())
          .then((data) => {
            if (data.enhanced) {
              document.getElementById("enhanced-output").value = data.enhanced;
            } else {
              alert(data.error || "Error occurred");
            }
          })
          .catch((err) => {
            alert("Failed to enhance: " + err.message);
          });
      }
      function closeEnhancer() {
        document.getElementById("enhancer-modal").classList.add("hidden");
      }

      document.getElementById("ats-optimize").addEventListener("click", () => {
        document.getElementById("atsModal").classList.remove("hidden");
      });

      document.getElementById("closeModal").addEventListener("click", () => {
        document.getElementById("atsModal").classList.add("hidden");
      });

      document
        .getElementById("atsForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();
          const formData = new FormData(this);

          const response = await fetch("/ats", {
            method: "POST",
            body: formData,
          });

          const data = await response.json();
          const resultDiv = document.getElementById("atsResult");

          if (data.match) {
            const suggested =
              Array.isArray(data.suggested_skills) &&
              data.suggested_skills.length > 0
                ? data.suggested_skills.join(", ")
                : "No suggestions. Well done!";

            resultDiv.innerHTML = `
                <p><strong>Match Score:</strong> ${data.match}%</p>
                <p><strong>Skills Found:</strong> ${data.resume_skills.join(
                  ", "
                )}</p>
                <p><strong>Suggested Improvements:</strong> ${suggested}</p>
              `;
          } else {
            resultDiv.innerHTML = `<p style="color:red;">Error: ${data.error}</p>`;
          }
        });

      //job matching
      // Open Job Matching Modal when card is clicked
      // فتح وإغلاق المودال
      document
        .getElementById("job-matching-section")
        .addEventListener("click", () => {
          document.getElementById("jobMatchModal").classList.remove("hidden");
        });
      document.getElementById("closeJobModal").addEventListener("click", () => {
        document.getElementById("jobMatchModal").classList.add("hidden");
      });

      // عند إرسال السيرة
      document
        .getElementById("jobMatchForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          const formData = new FormData(this);
          const resultsDiv = document.getElementById("jobResults");
          resultsDiv.innerHTML = "<p>⏳ Searching for jobs...</p>";

          try {
            const response = await fetch("/job-matching", {
              method: "POST",
              body: formData,
            });

            if (!response.ok) {
              resultsDiv.innerHTML =
                "<p style='color:red;'>❌ Failed to fetch results.</p>";
              return;
            }

            const data = await response.json();
            resultsDiv.innerHTML = "";

            if (data.matches.length === 0) {
              resultsDiv.innerHTML = "<p>😕 No matching jobs found.</p>";
            } else {
              data.matches.forEach((job) => {
                const jobCard = `
          <div style="border: 1px solid #ccc; margin-bottom: 10px; padding: 10px">
            <h4>${job.title}</h4>
            <p><strong>Match Score:</strong> ${job.match_score}%</p>
            <p>${job.description}</p>
            <a href="${job.link}" target="_blank">🔗 View Job</a>
          </div>
        `;
                resultsDiv.innerHTML += jobCard;
              });
            }
          } catch (err) {
            console.error(err);
            resultsDiv.innerHTML =
              "<p style='color:red;'>❌ An unexpected error occurred.</p>";
          }
        });
    </script>

    <!-- Notification Styles -->
    <style>
      .notification {
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 25px;
        border-radius: 8px;
        color: white;
        font-weight: 500;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 10px;
        opacity: 0;
        transform: translateY(-20px);
        animation: slideIn 0.3s forwards;
      }

      .notification.success {
        background: #00b894;
        border-left: 4px solid #008c6d;
      }

      .notification.error {
        background: #ff7675;
        border-left: 4px solid #d63031;
      }

      .notification.info {
        background: #0984e3;
        border-left: 4px solid #0767b1;
      }

      @keyframes slideIn {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </body>
</html>
